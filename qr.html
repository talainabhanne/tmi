<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cute Cat QR Code Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- QR Code generation library -->
    <script src="https://unpkg.com/qr-code-styling@1.6.0/lib/qr-code-styling.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Simple animation for the QR code appearing */
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

          .secret-btn {
      position: fixed;
      bottom: 20px;
      right: 50%;
      background: none;
      border: none;
      cursor: pointer;
    }

    .secret-btn img {
      width: 40px;
    }
    </style>
</head>
<body class="bg-pink-50 flex items-center justify-center min-h-screen p-4">

    <div class="bg-white p-6 md:p-8 rounded-2xl shadow-lg max-w-md w-full">
        <!-- Generator Main Content -->
        <main class="text-center">
            <!-- Header Section -->
            <h1 class="text-3xl font-bold text-gray-800">Cute Cat QR Generator</h1>
            <p class="text-gray-500 mt-2 mb-6">Create adorable QR codes with a cat in the center! üêæ</p>

            <!-- Input Section -->
            <div class="space-y-4">
                <input type="text" id="text-input" placeholder="Enter URL or text here..." class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-400 focus:border-transparent transition">
                <button id="generate-btn" class="w-full bg-pink-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-pink-600 active:bg-pink-700 transition-transform transform hover:scale-105">
                    Generate QR Code
                </button>
            </div>
            
            <!-- QR Code Display Area -->
            <div id="canvas-container" class="mt-6 flex justify-center items-center p-4 border-2 border-dashed border-gray-200 rounded-lg min-h-[300px] bg-gray-50">
                 <p id="placeholder-text" class="text-gray-400">Your cute QR code will appear here</p>
                <div id="canvas" class="fade-in"></div>
            </div>

            <!-- Action Buttons (Download/Copy) -->
            <div id="action-buttons" class="mt-4 grid grid-cols-2 gap-4 hidden">
                <button id="download-btn" class="w-full bg-purple-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-purple-600 active:bg-purple-700 transition-transform transform hover:scale-105">
                    Download PNG
                </button>
                <button id="copy-btn" class="w-full bg-blue-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-600 active:bg-blue-700 transition-transform transform hover:scale-105">
                    Copy Image
                </button>
            </div>
            <!-- Feedback message area -->
            <div id="copy-feedback" class="text-sm text-gray-600 mt-3 h-5 transition-opacity duration-300 opacity-0"></div>
        </main>
    </div>

     <button class="secret-btn" onclick="window.location.href='index.html'">
    <img src="https://cdn-icons-png.flaticon.com/512/616/616408.png" alt="Secret Cat Button">
  </button>

   <script type="module">
    document.addEventListener('DOMContentLoaded', () => {
        const textInput = document.getElementById('text-input');
        const generateBtn = document.getElementById('generate-btn');
        const downloadBtn = document.getElementById('download-btn');
        const copyBtn = document.getElementById('copy-btn');
        const actionButtons = document.getElementById('action-buttons');
        const canvasDiv = document.getElementById('canvas');
        const placeholderText = document.getElementById('placeholder-text');
        const copyFeedback = document.getElementById('copy-feedback');

        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);

        const catImageUrl = 'data:image/svg+xml,%3csvg viewBox=\'0 0 200 200\' xmlns=\'http://www.w3.org/2000/svg\' fill=\'none\'%3e%3ccircle cx=\'100\' cy=\'100\' r=\'60\' fill=\'%23FAD6A5\' stroke=\'%23333\' stroke-width=\'3\'/%3e%3cpolygon points=\'55,55 75,30 80,60\' fill=\'%23FAD6A5\' stroke=\'%23333\' stroke-width=\'3\'/%3e%3cpolygon points=\'145,55 125,30 120,60\' fill=\'%23FAD6A5\' stroke=\'%23333\' stroke-width=\'3\'/%3e%3cpolygon points=\'60,55 75,40 77,55\' fill=\'%23F9C5D1\'/%3e%3cpolygon points=\'140,55 125,40 123,55\' fill=\'%23F9C5D1\'/%3e%3ccircle cx=\'80\' cy=\'100\' r=\'8\' fill=\'%23333\'/%3e%3ccircle cx=\'120\' cy=\'100\' r=\'8\' fill=\'%23333\'/%3e%3cpolygon points=\'95,115 105,115 100,120\' fill=\'%23E38B8B\'/%3e%3cpath d=\'M95 125 Q100 130 105 125\' stroke=\'%23333\' stroke-width=\'2\' fill=\'none\'/%3e%3cline x1=\'60\' y1=\'115\' x2=\'30\' y2=\'110\' stroke=\'%23333\' stroke-width=\'2\'/%3e%3cline x1=\'60\' y1=\'120\' x2=\'30\' y2=\'120\' stroke=\'%23333\' stroke-width=\'2\'/%3e%3cline x1=\'60\' y1=\'125\' x2=\'30\' y2=\'130\' stroke=\'%23333\' stroke-width=\'2\'/%3e%3cline x1=\'140\' y1=\'115\' x2=\'170\' y2=\'110\' stroke=\'%23333\' stroke-width=\'2\'/%3e%3cline x1=\'140\' y1=\'120\' x2=\'170\' y2=\'120\' stroke=\'%23333\' stroke-width=\'2\'/%3e%3cline x1=\'140\' y1=\'125\' x2=\'170\' y2=\'130\' stroke=\'%23333\' stroke-width=\'2\'/%3e%3c/svg%3e';

        let qrCodeInstance;
        let latestDataURL = "";

        const generateQrCode = () => {
            const data = textInput.value.trim();
            if (!data) {
                textInput.focus();
                textInput.classList.add('border-red-500');
                setTimeout(() => textInput.classList.remove('border-red-500'), 2000);
                return;
            }

            canvasDiv.innerHTML = '';
            placeholderText.style.display = 'none';

            qrCodeInstance = new QRCodeStyling({
                width: 280,
                height: 280,
                data: data,
                image: catImageUrl,
                dotsOptions: { color: "#581c87", type: "rounded" },
                backgroundOptions: { color: "#fdf4ff" },
                imageOptions: { crossOrigin: "anonymous", margin: 8, imageSize: 0.35 },
                cornersSquareOptions: { type: "extra-rounded", color: "#a21caf" },
                cornersDotOptions: { type: "dot", color: "#a21caf" },
                qrOptions: { errorCorrectionLevel: 'H' }
            });

            qrCodeInstance.getRawData("png").then(blob => {
                const reader = new FileReader();
                reader.onload = () => {
                    latestDataURL = reader.result;

                    const img = document.createElement('img');
                    img.src = latestDataURL;
                    img.alt = 'QR Code';
                    img.className = 'mt-4 rounded-lg shadow-md fade-in';
                    img.style.maxWidth = '100%';

                    canvasDiv.innerHTML = '';
                    canvasDiv.appendChild(img);

                    actionButtons.classList.remove('hidden');
                };
                reader.readAsDataURL(blob);
            });
        };

        // Generate on button click or enter key
        generateBtn.addEventListener('click', generateQrCode);
        textInput.addEventListener('keydown', (e) => e.key === 'Enter' && generateQrCode());

        // Download button
        downloadBtn.addEventListener('click', () => {
            if (!latestDataURL) return;

            const link = document.createElement('a');
            link.href = latestDataURL;
            link.download = "cute-cat-qr.png";
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        });

        // Copy button
        copyBtn.addEventListener('click', async () => {
            if (!latestDataURL) return;

            if (navigator.clipboard && navigator.clipboard.write) {
                try {
                    const blob = await (await fetch(latestDataURL)).blob();
                    const item = new ClipboardItem({ [blob.type]: blob });
                    await navigator.clipboard.write([item]);
                    copyFeedback.textContent = "QR code copied to clipboard!";
                } catch (err) {
                    console.error("Clipboard copy failed:", err);
                    fallbackCopyMessage();
                }
            } else {
                fallbackCopyMessage();
            }

            copyFeedback.classList.remove('opacity-0');
            copyBtn.disabled = true;
            copyBtn.textContent = 'Ready!';
            setTimeout(() => {
                copyFeedback.classList.add('opacity-0');
                copyBtn.disabled = false;
                copyBtn.textContent = 'Copy Image';
            }, 4000);
        });

        // Show fallback copy/save instructions
        function fallbackCopyMessage() {
            if (isMobile) {
                copyFeedback.textContent = "Tap & Hold the QR to Save or Copy";
            } else {
                copyFeedback.textContent = "Right-click the QR and select 'Copy Image'";
            }
        }
    });
</script>
</body>
</html>

